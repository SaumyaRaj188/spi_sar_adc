#! /usr/local/bin/vvp
:ivl_version "13.0 (devel)" "(s20250103-66-gd67d3323a)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/usr/local/lib/ivl/system.vpi";
:vpi_module "/usr/local/lib/ivl/vhdl_sys.vpi";
:vpi_module "/usr/local/lib/ivl/vhdl_textio.vpi";
:vpi_module "/usr/local/lib/ivl/v2005_math.vpi";
:vpi_module "/usr/local/lib/ivl/va_math.vpi";
S_0x566778d45070 .scope module, "tb_spi_adc" "tb_spi_adc" 2 3;
 .timescale -9 -12;
P_0x566778d60dc0 .param/l "ADC_WIDTH" 0 2 9, +C4<00000000000000000000000000001100>;
P_0x566778d60e00 .param/l "SYS_CLK_FREQ" 0 2 8, +C4<00000010111110101111000010000000>;
v0x566778d82740_0 .var "analog_input_val", 11 0;
v0x566778d82840_0 .var "comparator", 0 0;
v0x566778d82900_0 .var "cs", 0 0;
v0x566778d829f0_0 .net "dac", 11 0, L_0x566778d94900;  1 drivers
v0x566778d82ae0_0 .net "dac_rst", 0 0, L_0x566778d94360;  1 drivers
v0x566778d82c20_0 .net "irq", 0 0, L_0x566778d49f40;  1 drivers
v0x566778d82cc0_0 .net "miso", 0 0, L_0x566778d95550;  1 drivers
v0x566778d82db0_0 .var "miso_shift", 15 0;
v0x566778d82e50_0 .var "mosi", 0 0;
v0x566778d82ef0_0 .net "pwr_gate", 0 0, L_0x566778d33050;  1 drivers
v0x566778d82fe0_0 .var "reset_", 0 0;
v0x566778d830d0_0 .net "sample_and_hold", 0 0, L_0x566778d93d30;  1 drivers
v0x566778d831c0_0 .var "sck", 0 0;
v0x566778d832b0_0 .var "spi_read_data", 11 0;
v0x566778d83390_0 .var "sys_clk", 0 0;
v0x566778d83480_0 .net "vref_sel", 0 0, L_0x566778d17a20;  1 drivers
E_0x566778d23eb0 .event anyedge, v0x566778d81f00_0;
E_0x566778d23540 .event posedge, v0x566778d805b0_0;
E_0x566778d23c40 .event anyedge, v0x566778d82740_0, v0x566778d7d9d0_0;
S_0x566778d44240 .scope task, "spi_read" "spi_read" 2 104, 2 104 0, S_0x566778d45070;
 .timescale -9 -12;
v0x566778d573f0_0 .var "addr", 1 0;
v0x566778d574c0_0 .var "frame", 15 0;
v0x566778d50e50_0 .var/i "i", 31 0;
TD_tb_spi_adc.spi_read ;
    %pushi/vec4 0, 0, 2;
    %load/vec4 v0x566778d573f0_0;
    %concat/vec4; draw_concat_vec4
    %concati/vec4 0, 0, 12;
    %store/vec4 v0x566778d574c0_0, 0, 16;
    %pushi/vec4 0, 0, 12;
    %store/vec4 v0x566778d832b0_0, 0, 12;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d82900_0, 0, 1;
    %delay 100000, 0;
    %pushi/vec4 15, 0, 32;
    %store/vec4 v0x566778d50e50_0, 0, 32;
T_0.0 ; Top of for-loop
    %load/vec4 v0x566778d50e50_0;
    %cmpi/s 0, 0, 32;
    %flag_inv 5; GE is !LT
	  %jmp/0xz T_0.1, 5;
    %load/vec4 v0x566778d574c0_0;
    %load/vec4 v0x566778d50e50_0;
    %part/s 1;
    %store/vec4 v0x566778d82e50_0, 0, 1;
    %delay 200000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x566778d831c0_0, 0, 1;
    %delay 200000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d831c0_0, 0, 1;
    %load/vec4 v0x566778d50e50_0;
    %cmpi/s 12, 0, 32;
    %jmp/0xz  T_0.3, 5;
T_0.3 ;
T_0.2 ; for-loop step statement
    %load/vec4 v0x566778d50e50_0;
    %subi 1, 0, 32;
    %store/vec4 v0x566778d50e50_0, 0, 32;
    %jmp T_0.0;
T_0.1 ; for-loop exit label
    %delay 100000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x566778d82900_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d82e50_0, 0, 1;
    %delay 200000, 0;
    %end;
S_0x566778d7bac0 .scope task, "spi_write" "spi_write" 2 80, 2 80 0, S_0x566778d45070;
 .timescale -9 -12;
v0x566778d50f50_0 .var "addr", 1 0;
v0x566778d4a050_0 .var "data", 11 0;
v0x566778d4a150_0 .var "frame", 15 0;
v0x566778d4ffb0_0 .var/i "i", 31 0;
TD_tb_spi_adc.spi_write ;
    %pushi/vec4 1, 0, 2;
    %load/vec4 v0x566778d50f50_0;
    %concat/vec4; draw_concat_vec4
    %load/vec4 v0x566778d4a050_0;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x566778d4a150_0, 0, 16;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d82900_0, 0, 1;
    %delay 100000, 0;
    %pushi/vec4 15, 0, 32;
    %store/vec4 v0x566778d4ffb0_0, 0, 32;
T_1.5 ; Top of for-loop
    %load/vec4 v0x566778d4ffb0_0;
    %cmpi/s 0, 0, 32;
    %flag_inv 5; GE is !LT
	  %jmp/0xz T_1.6, 5;
    %load/vec4 v0x566778d4a150_0;
    %load/vec4 v0x566778d4ffb0_0;
    %part/s 1;
    %store/vec4 v0x566778d82e50_0, 0, 1;
    %delay 200000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x566778d831c0_0, 0, 1;
    %delay 200000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d831c0_0, 0, 1;
T_1.7 ; for-loop step statement
    %load/vec4 v0x566778d4ffb0_0;
    %subi 1, 0, 32;
    %store/vec4 v0x566778d4ffb0_0, 0, 32;
    %jmp T_1.5;
T_1.6 ; for-loop exit label
    %delay 100000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x566778d82900_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d82e50_0, 0, 1;
    %delay 200000, 0;
    %end;
S_0x566778d7bda0 .scope module, "u_dut" "spi_adc" 2 40, 3 9 0, S_0x566778d45070;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "sys_clk";
    .port_info 1 /INPUT 1 "reset_";
    .port_info 2 /INPUT 1 "cs";
    .port_info 3 /INPUT 1 "sck";
    .port_info 4 /INPUT 1 "mosi";
    .port_info 5 /OUTPUT 1 "miso";
    .port_info 6 /INPUT 1 "comparator";
    .port_info 7 /OUTPUT 12 "dac";
    .port_info 8 /OUTPUT 1 "sample_and_hold";
    .port_info 9 /OUTPUT 1 "pwr_gate";
    .port_info 10 /OUTPUT 1 "dac_rst";
    .port_info 11 /OUTPUT 1 "irq";
    .port_info 12 /OUTPUT 1 "vref_sel";
P_0x566778d57ba0 .param/l "ADC_WIDTH" 0 3 11, +C4<00000000000000000000000000001100>;
P_0x566778d57be0 .param/l "DIV_16K" 1 3 54, +C4<00000000000000000000011000011010>;
P_0x566778d57c20 .param/l "DIV_8K" 1 3 55, +C4<00000000000000000000110000110101>;
P_0x566778d57c60 .param/l "SYS_CLK_FREQ" 0 3 10, +C4<00000010111110101111000010000000>;
L_0x566778d4d980 .functor BUFZ 1, v0x566778d81140_0, C4<0>, C4<0>, C4<0>;
L_0x566778d49f40 .functor AND 1, v0x566778d7fe40_0, L_0x566778d83880, C4<1>, C4<1>;
L_0x566778d17a20 .functor BUFZ 1, L_0x566778d837e0, C4<0>, C4<0>, C4<0>;
L_0x566778d94b10 .functor AND 1, v0x566778d82fe0_0, L_0x566778d83520, C4<1>, C4<1>;
L_0x71a7b4ace018 .functor BUFT 1, C4<00000000000000000000011000011010>, C4<0>, C4<0>, C4<0>;
v0x566778d80cb0_0 .net/2s *"_ivl_14", 31 0, L_0x71a7b4ace018;  1 drivers
L_0x71a7b4ace060 .functor BUFT 1, C4<00000000000000000000110000110101>, C4<0>, C4<0>, C4<0>;
v0x566778d80db0_0 .net/2s *"_ivl_16", 31 0, L_0x71a7b4ace060;  1 drivers
v0x566778d80e90_0 .net "adc_ack", 0 0, L_0x566778d93e20;  1 drivers
v0x566778d80f60_0 .net "adc_busy", 0 0, L_0x566778d94270;  1 drivers
v0x566778d81050_0 .net "adc_clk", 0 0, L_0x566778d4d980;  1 drivers
v0x566778d81140_0 .var "adc_clk_reg", 0 0;
v0x566778d811e0_0 .net "adc_data_out", 11 0, L_0x566778d94aa0;  1 drivers
v0x566778d812d0_0 .var "adc_en_n", 0 0;
v0x566778d81370_0 .net "bit_auto", 0 0, L_0x566778d836b0;  1 drivers
v0x566778d81410_0 .net "bit_clk_sel", 0 0, L_0x566778d83920;  1 drivers
v0x566778d814d0_0 .net "bit_en", 0 0, L_0x566778d83520;  1 drivers
v0x566778d81590_0 .net "bit_int_en", 0 0, L_0x566778d83880;  1 drivers
v0x566778d81650_0 .net "bit_start", 0 0, L_0x566778d83610;  1 drivers
v0x566778d81710_0 .net "bit_vref", 0 0, L_0x566778d837e0;  1 drivers
v0x566778d817d0_0 .var "clk_cnt", 31 0;
v0x566778d818b0_0 .net "comparator", 0 0, v0x566778d82840_0;  1 drivers
v0x566778d81950_0 .net "cs", 0 0, v0x566778d82900_0;  1 drivers
v0x566778d81b00_0 .net "ctrl_reg", 11 0, v0x566778d7fae0_0;  1 drivers
v0x566778d81bd0_0 .net "current_div", 31 0, L_0x566778d93a10;  1 drivers
v0x566778d81c70_0 .net "dac", 11 0, L_0x566778d94900;  alias, 1 drivers
v0x566778d81d60_0 .net "dac_rst", 0 0, L_0x566778d94360;  alias, 1 drivers
v0x566778d81e30_0 .net "eoc_flag", 0 0, v0x566778d7fe40_0;  1 drivers
v0x566778d81f00_0 .net "irq", 0 0, L_0x566778d49f40;  alias, 1 drivers
v0x566778d81fa0_0 .net "miso", 0 0, L_0x566778d95550;  alias, 1 drivers
v0x566778d82070_0 .net "mosi", 0 0, v0x566778d82e50_0;  1 drivers
v0x566778d82140_0 .net "pwr_gate", 0 0, L_0x566778d33050;  alias, 1 drivers
v0x566778d82210_0 .net "reset_", 0 0, v0x566778d82fe0_0;  1 drivers
v0x566778d822e0_0 .net "sample_and_hold", 0 0, L_0x566778d93d30;  alias, 1 drivers
v0x566778d823b0_0 .net "sck", 0 0, v0x566778d831c0_0;  1 drivers
v0x566778d82480_0 .var "start_clear_req", 0 0;
v0x566778d82550_0 .net "sys_clk", 0 0, v0x566778d83390_0;  1 drivers
v0x566778d82620_0 .net "vref_sel", 0 0, L_0x566778d17a20;  alias, 1 drivers
L_0x566778d83520 .part v0x566778d7fae0_0, 0, 1;
L_0x566778d83610 .part v0x566778d7fae0_0, 1, 1;
L_0x566778d836b0 .part v0x566778d7fae0_0, 2, 1;
L_0x566778d837e0 .part v0x566778d7fae0_0, 3, 1;
L_0x566778d83880 .part v0x566778d7fae0_0, 4, 1;
L_0x566778d83920 .part v0x566778d7fae0_0, 6, 1;
L_0x566778d93a10 .functor MUXZ 32, L_0x71a7b4ace060, L_0x71a7b4ace018, L_0x566778d83920, C4<>;
S_0x566778d7c330 .scope module, "u_controller" "adc_controller" 3 127, 4 18 0, S_0x566778d7bda0;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset_";
    .port_info 2 /INPUT 1 "en_";
    .port_info 3 /INPUT 1 "comparator";
    .port_info 4 /OUTPUT 1 "sample_and_hold";
    .port_info 5 /OUTPUT 1 "pwr_gate";
    .port_info 6 /OUTPUT 1 "dac_rst";
    .port_info 7 /OUTPUT 1 "ack";
    .port_info 8 /OUTPUT 1 "busy";
    .port_info 9 /OUTPUT 12 "dac";
    .port_info 10 /OUTPUT 12 "data";
P_0x566778d7c510 .param/l "S_CONVERT" 1 4 42, C4<10>;
P_0x566778d7c550 .param/l "S_FINISH" 1 4 43, C4<11>;
P_0x566778d7c590 .param/l "S_IDLE" 1 4 40, C4<00>;
P_0x566778d7c5d0 .param/l "S_INIT" 1 4 41, C4<01>;
P_0x566778d7c610 .param/l "WIDTH" 0 4 19, +C4<00000000000000000000000000001100>;
L_0x566778d33050 .functor OR 1, L_0x566778d93fb0, L_0x566778d940a0, C4<0>, C4<0>;
L_0x566778d94490 .functor OR 12, v0x566778d7dab0_0, v0x566778d7d8f0_0, C4<000000000000>, C4<000000000000>;
L_0x566778d94aa0 .functor BUFZ 12, v0x566778d7dd30_0, C4<000000000000>, C4<000000000000>, C4<000000000000>;
L_0x71a7b4ace0a8 .functor BUFT 1, C4<01>, C4<0>, C4<0>, C4<0>;
v0x566778d7ca70_0 .net/2u *"_ivl_0", 1 0, L_0x71a7b4ace0a8;  1 drivers
v0x566778d7cb70_0 .net *"_ivl_10", 0 0, L_0x566778d93fb0;  1 drivers
L_0x71a7b4ace180 .functor BUFT 1, C4<10>, C4<0>, C4<0>, C4<0>;
v0x566778d7cc30_0 .net/2u *"_ivl_12", 1 0, L_0x71a7b4ace180;  1 drivers
v0x566778d7cd20_0 .net *"_ivl_14", 0 0, L_0x566778d940a0;  1 drivers
L_0x71a7b4ace1c8 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x566778d7cde0_0 .net/2u *"_ivl_18", 1 0, L_0x71a7b4ace1c8;  1 drivers
L_0x71a7b4ace210 .functor BUFT 1, C4<01>, C4<0>, C4<0>, C4<0>;
v0x566778d7cf10_0 .net/2u *"_ivl_22", 1 0, L_0x71a7b4ace210;  1 drivers
v0x566778d7cff0_0 .net *"_ivl_28", 31 0, L_0x566778d94500;  1 drivers
L_0x71a7b4ace258 .functor BUFT 1, C4<00000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x566778d7d0d0_0 .net *"_ivl_31", 19 0, L_0x71a7b4ace258;  1 drivers
L_0x71a7b4ace2a0 .functor BUFT 1, C4<00000000000000000000000000000001>, C4<0>, C4<0>, C4<0>;
v0x566778d7d1b0_0 .net/2u *"_ivl_32", 31 0, L_0x71a7b4ace2a0;  1 drivers
L_0x71a7b4ace2e8 .functor BUFT 1, C4<10>, C4<0>, C4<0>, C4<0>;
v0x566778d7d290_0 .net/2u *"_ivl_36", 1 0, L_0x71a7b4ace2e8;  1 drivers
v0x566778d7d370_0 .net *"_ivl_38", 0 0, L_0x566778d94810;  1 drivers
L_0x71a7b4ace0f0 .functor BUFT 1, C4<11>, C4<0>, C4<0>, C4<0>;
v0x566778d7d430_0 .net/2u *"_ivl_4", 1 0, L_0x71a7b4ace0f0;  1 drivers
L_0x71a7b4ace138 .functor BUFT 1, C4<01>, C4<0>, C4<0>, C4<0>;
v0x566778d7d510_0 .net/2u *"_ivl_8", 1 0, L_0x71a7b4ace138;  1 drivers
v0x566778d7d5f0_0 .net "ack", 0 0, L_0x566778d93e20;  alias, 1 drivers
v0x566778d7d6b0_0 .net "busy", 0 0, L_0x566778d94270;  alias, 1 drivers
v0x566778d7d770_0 .net "clk", 0 0, L_0x566778d4d980;  alias, 1 drivers
v0x566778d7d830_0 .net "comparator", 0 0, v0x566778d82840_0;  alias, 1 drivers
v0x566778d7d8f0_0 .var "counter_reg", 11 0;
v0x566778d7d9d0_0 .net "dac", 11 0, L_0x566778d94900;  alias, 1 drivers
v0x566778d7dab0_0 .var "dac_reg", 11 0;
v0x566778d7db90_0 .net "dac_rst", 0 0, L_0x566778d94360;  alias, 1 drivers
v0x566778d7dc50_0 .net "data", 11 0, L_0x566778d94aa0;  alias, 1 drivers
v0x566778d7dd30_0 .var "data_out_reg", 11 0;
v0x566778d7de10_0 .net "en_", 0 0, v0x566778d812d0_0;  1 drivers
v0x566778d7ded0_0 .net "is_final_bit", 0 0, L_0x566778d946d0;  1 drivers
v0x566778d7df90_0 .var "next_state", 1 0;
v0x566778d7e070_0 .net "pwr_gate", 0 0, L_0x566778d33050;  alias, 1 drivers
v0x566778d7e130_0 .net "reset_", 0 0, L_0x566778d94b10;  1 drivers
v0x566778d7e1f0_0 .net "sample_and_hold", 0 0, L_0x566778d93d30;  alias, 1 drivers
v0x566778d7e2b0_0 .var "state", 1 0;
v0x566778d7e390_0 .net "test_value", 11 0, L_0x566778d94490;  1 drivers
E_0x566778d25a20/0 .event negedge, v0x566778d7e130_0;
E_0x566778d25a20/1 .event posedge, v0x566778d7d770_0;
E_0x566778d25a20 .event/or E_0x566778d25a20/0, E_0x566778d25a20/1;
E_0x566778d26c10 .event anyedge, v0x566778d7e2b0_0, v0x566778d7de10_0, v0x566778d7ded0_0;
L_0x566778d93d30 .cmp/eq 2, v0x566778d7e2b0_0, L_0x71a7b4ace0a8;
L_0x566778d93e20 .cmp/eq 2, v0x566778d7e2b0_0, L_0x71a7b4ace0f0;
L_0x566778d93fb0 .cmp/eq 2, v0x566778d7e2b0_0, L_0x71a7b4ace138;
L_0x566778d940a0 .cmp/eq 2, v0x566778d7e2b0_0, L_0x71a7b4ace180;
L_0x566778d94270 .cmp/ne 2, v0x566778d7e2b0_0, L_0x71a7b4ace1c8;
L_0x566778d94360 .cmp/eq 2, v0x566778d7e2b0_0, L_0x71a7b4ace210;
L_0x566778d94500 .concat [ 12 20 0 0], v0x566778d7d8f0_0, L_0x71a7b4ace258;
L_0x566778d946d0 .cmp/eq 32, L_0x566778d94500, L_0x71a7b4ace2a0;
L_0x566778d94810 .cmp/eq 2, v0x566778d7e2b0_0, L_0x71a7b4ace2e8;
L_0x566778d94900 .functor MUXZ 12, v0x566778d7dab0_0, L_0x566778d94490, L_0x566778d94810, C4<>;
S_0x566778d7e630 .scope module, "u_spi" "adc_spi_slave" 3 142, 5 6 0, S_0x566778d7bda0;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset_";
    .port_info 2 /INPUT 1 "cs";
    .port_info 3 /INPUT 1 "sck";
    .port_info 4 /INPUT 1 "mosi";
    .port_info 5 /OUTPUT 1 "miso";
    .port_info 6 /INPUT 12 "adc_data_in";
    .port_info 7 /INPUT 1 "adc_busy_in";
    .port_info 8 /INPUT 1 "adc_eoc_pulse";
    .port_info 9 /INPUT 1 "hw_clear_start";
    .port_info 10 /OUTPUT 12 "ctrl_reg_out";
    .port_info 11 /OUTPUT 1 "eoc_flag_out";
P_0x566778d7e7e0 .param/l "ADDR_CTRL" 1 5 27, C4<00>;
P_0x566778d7e820 .param/l "ADDR_DATA" 1 5 29, C4<10>;
P_0x566778d7e860 .param/l "ADDR_INFO" 1 5 30, C4<11>;
P_0x566778d7e8a0 .param/l "ADDR_STATUS" 1 5 28, C4<01>;
P_0x566778d7e8e0 .param/l "CMD_CLEAR" 1 5 36, C4<11>;
P_0x566778d7e920 .param/l "CMD_READ" 1 5 33, C4<00>;
P_0x566778d7e960 .param/l "CMD_SET" 1 5 35, C4<10>;
P_0x566778d7e9a0 .param/l "CMD_WRITE" 1 5 34, C4<01>;
P_0x566778d7e9e0 .param/l "S_IDLE" 1 5 68, C4<00>;
P_0x566778d7ea20 .param/l "S_LATCH" 1 5 70, C4<10>;
P_0x566778d7ea60 .param/l "S_SHIFT" 1 5 69, C4<01>;
L_0x566778d94c70 .functor AND 1, v0x566778d807f0_0, L_0x566778d94bd0, C4<1>, C4<1>;
L_0x566778d94e20 .functor AND 1, L_0x566778d94d30, v0x566778d808b0_0, C4<1>, C4<1>;
v0x566778d7f130_0 .net *"_ivl_1", 0 0, L_0x566778d94bd0;  1 drivers
o0x71a7b4e80978 .functor BUFZ 1, c4<z>; HiZ drive
; Elide local net with no drivers, v0x566778d7f210_0 name=_ivl_18
v0x566778d7f2f0_0 .net *"_ivl_21", 0 0, L_0x566778d95410;  1 drivers
v0x566778d7f3b0_0 .net *"_ivl_5", 0 0, L_0x566778d94d30;  1 drivers
v0x566778d7f470_0 .net "adc_busy_in", 0 0, L_0x566778d94270;  alias, 1 drivers
v0x566778d7f560_0 .net "adc_data_in", 11 0, L_0x566778d94aa0;  alias, 1 drivers
v0x566778d7f630_0 .net "adc_eoc_pulse", 0 0, L_0x566778d93e20;  alias, 1 drivers
v0x566778d7f700_0 .net "addr", 1 0, L_0x566778d94fd0;  1 drivers
v0x566778d7f7a0_0 .var "bit_cnt", 4 0;
v0x566778d7f880_0 .net "clk", 0 0, v0x566778d83390_0;  alias, 1 drivers
v0x566778d7f940_0 .net "cmd", 1 0, L_0x566778d94f30;  1 drivers
v0x566778d7fa20_0 .net "cs", 0 0, v0x566778d82900_0;  alias, 1 drivers
v0x566778d7fae0_0 .var "ctrl_reg", 11 0;
v0x566778d7fbc0_0 .net "ctrl_reg_out", 11 0, v0x566778d7fae0_0;  alias, 1 drivers
v0x566778d7fca0_0 .var "data_reg", 11 0;
v0x566778d7fd80_0 .net "eoc_flag_out", 0 0, v0x566778d7fe40_0;  alias, 1 drivers
v0x566778d7fe40_0 .var "eoc_latch", 0 0;
v0x566778d80010_0 .net "hw_clear_start", 0 0, v0x566778d82480_0;  1 drivers
v0x566778d800d0_0 .var "info_reg", 11 0;
v0x566778d801b0_0 .net "miso", 0 0, L_0x566778d95550;  alias, 1 drivers
v0x566778d80270_0 .var "miso_buffer", 11 0;
v0x566778d80350_0 .net "mosi", 0 0, v0x566778d82e50_0;  alias, 1 drivers
v0x566778d80410_0 .net "pay", 11 0, L_0x566778d950f0;  1 drivers
v0x566778d804f0_0 .net "reset_", 0 0, v0x566778d82fe0_0;  alias, 1 drivers
v0x566778d805b0_0 .net "sck", 0 0, v0x566778d831c0_0;  alias, 1 drivers
v0x566778d80670_0 .net "sck_fall", 0 0, L_0x566778d94e20;  1 drivers
v0x566778d80730_0 .net "sck_rise", 0 0, L_0x566778d94c70;  1 drivers
v0x566778d807f0_0 .var "sck_s1", 0 0;
v0x566778d808b0_0 .var "sck_s2", 0 0;
v0x566778d80970_0 .var "shift_reg", 15 0;
v0x566778d80a50_0 .var "state", 1 0;
E_0x566778cef260/0 .event negedge, v0x566778d804f0_0;
E_0x566778cef260/1 .event posedge, v0x566778d7f880_0;
E_0x566778cef260 .event/or E_0x566778cef260/0, E_0x566778cef260/1;
L_0x566778d94bd0 .reduce/nor v0x566778d808b0_0;
L_0x566778d94d30 .reduce/nor v0x566778d807f0_0;
L_0x566778d94f30 .part v0x566778d80970_0, 14, 2;
L_0x566778d94fd0 .part v0x566778d80970_0, 12, 2;
L_0x566778d950f0 .part v0x566778d80970_0, 0, 12;
L_0x566778d95410 .part v0x566778d80270_0, 11, 1;
L_0x566778d95550 .functor MUXZ 1, L_0x566778d95410, o0x71a7b4e80978, v0x566778d82900_0, C4<>;
    .scope S_0x566778d7c330;
T_2 ;
    %wait E_0x566778d25a20;
    %load/vec4 v0x566778d7e130_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x566778d7e2b0_0, 0;
    %jmp T_2.1;
T_2.0 ;
    %load/vec4 v0x566778d7df90_0;
    %assign/vec4 v0x566778d7e2b0_0, 0;
T_2.1 ;
    %jmp T_2;
    .thread T_2;
    .scope S_0x566778d7c330;
T_3 ;
    %wait E_0x566778d26c10;
    %load/vec4 v0x566778d7e2b0_0;
    %store/vec4 v0x566778d7df90_0, 0, 2;
    %load/vec4 v0x566778d7e2b0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_3.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_3.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_3.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_3.3, 6;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x566778d7df90_0, 0, 2;
    %jmp T_3.5;
T_3.0 ;
    %load/vec4 v0x566778d7de10_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.6, 8;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x566778d7df90_0, 0, 2;
T_3.6 ;
    %jmp T_3.5;
T_3.1 ;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x566778d7df90_0, 0, 2;
    %jmp T_3.5;
T_3.2 ;
    %load/vec4 v0x566778d7de10_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.8, 8;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x566778d7df90_0, 0, 2;
    %jmp T_3.9;
T_3.8 ;
    %load/vec4 v0x566778d7ded0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.10, 8;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x566778d7df90_0, 0, 2;
T_3.10 ;
T_3.9 ;
    %jmp T_3.5;
T_3.3 ;
    %load/vec4 v0x566778d7de10_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.12, 8;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x566778d7df90_0, 0, 2;
    %jmp T_3.13;
T_3.12 ;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x566778d7df90_0, 0, 2;
T_3.13 ;
    %jmp T_3.5;
T_3.5 ;
    %pop/vec4 1;
    %jmp T_3;
    .thread T_3, $push;
    .scope S_0x566778d7c330;
T_4 ;
    %wait E_0x566778d25a20;
    %load/vec4 v0x566778d7e130_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.0, 8;
    %pushi/vec4 0, 0, 12;
    %assign/vec4 v0x566778d7dab0_0, 0;
    %pushi/vec4 0, 0, 12;
    %assign/vec4 v0x566778d7d8f0_0, 0;
    %pushi/vec4 0, 0, 12;
    %assign/vec4 v0x566778d7dd30_0, 0;
    %jmp T_4.1;
T_4.0 ;
    %load/vec4 v0x566778d7e2b0_0;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_4.2, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_4.3, 6;
    %load/vec4 v0x566778d7dab0_0;
    %assign/vec4 v0x566778d7dab0_0, 0;
    %load/vec4 v0x566778d7d8f0_0;
    %assign/vec4 v0x566778d7d8f0_0, 0;
    %load/vec4 v0x566778d7dd30_0;
    %assign/vec4 v0x566778d7dd30_0, 0;
    %jmp T_4.5;
T_4.2 ;
    %pushi/vec4 0, 0, 12;
    %assign/vec4 v0x566778d7dab0_0, 0;
    %pushi/vec4 2048, 0, 12;
    %assign/vec4 v0x566778d7d8f0_0, 0;
    %jmp T_4.5;
T_4.3 ;
    %load/vec4 v0x566778d7d830_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.6, 8;
    %load/vec4 v0x566778d7e390_0;
    %assign/vec4 v0x566778d7dab0_0, 0;
T_4.6 ;
    %load/vec4 v0x566778d7d8f0_0;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %shiftr 4;
    %assign/vec4 v0x566778d7d8f0_0, 0;
    %load/vec4 v0x566778d7ded0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.8, 8;
    %load/vec4 v0x566778d7d830_0;
    %flag_set/vec4 8;
    %jmp/0 T_4.10, 8;
    %load/vec4 v0x566778d7e390_0;
    %jmp/1 T_4.11, 8;
T_4.10 ; End of true expr.
    %load/vec4 v0x566778d7dab0_0;
    %jmp/0 T_4.11, 8;
 ; End of false expr.
    %blend;
T_4.11;
    %assign/vec4 v0x566778d7dd30_0, 0;
T_4.8 ;
    %jmp T_4.5;
T_4.5 ;
    %pop/vec4 1;
T_4.1 ;
    %jmp T_4;
    .thread T_4;
    .scope S_0x566778d7e630;
T_5 ;
    %wait E_0x566778cef260;
    %load/vec4 v0x566778d804f0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x566778d807f0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x566778d808b0_0, 0;
    %jmp T_5.1;
T_5.0 ;
    %load/vec4 v0x566778d805b0_0;
    %assign/vec4 v0x566778d807f0_0, 0;
    %load/vec4 v0x566778d807f0_0;
    %assign/vec4 v0x566778d808b0_0, 0;
T_5.1 ;
    %jmp T_5;
    .thread T_5;
    .scope S_0x566778d7e630;
T_6 ;
    %wait E_0x566778cef260;
    %load/vec4 v0x566778d804f0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x566778d80a50_0, 0;
    %pushi/vec4 0, 0, 12;
    %assign/vec4 v0x566778d7fae0_0, 0;
    %pushi/vec4 0, 0, 12;
    %assign/vec4 v0x566778d7fca0_0, 0;
    %pushi/vec4 10, 0, 12;
    %assign/vec4 v0x566778d800d0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x566778d7fe40_0, 0;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x566778d7f7a0_0, 0;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v0x566778d80970_0, 0;
    %pushi/vec4 0, 0, 12;
    %assign/vec4 v0x566778d80270_0, 0;
    %jmp T_6.1;
T_6.0 ;
    %load/vec4 v0x566778d7f630_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.2, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x566778d7fe40_0, 0;
T_6.2 ;
    %load/vec4 v0x566778d80010_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.4, 8;
    %pushi/vec4 0, 0, 1;
    %ix/load 5, 0, 0;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %assign/vec4/off/d v0x566778d7fae0_0, 4, 5;
T_6.4 ;
    %load/vec4 v0x566778d80a50_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_6.6, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_6.7, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_6.8, 6;
    %jmp T_6.9;
T_6.6 ;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x566778d7f7a0_0, 0;
    %load/vec4 v0x566778d7f560_0;
    %assign/vec4 v0x566778d7fca0_0, 0;
    %load/vec4 v0x566778d7fa20_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.10, 8;
    %pushi/vec4 1, 0, 2;
    %assign/vec4 v0x566778d80a50_0, 0;
T_6.10 ;
    %jmp T_6.9;
T_6.7 ;
    %load/vec4 v0x566778d7fa20_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.12, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x566778d80a50_0, 0;
    %jmp T_6.13;
T_6.12 ;
    %load/vec4 v0x566778d80730_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.14, 8;
    %load/vec4 v0x566778d80970_0;
    %parti/s 15, 0, 2;
    %load/vec4 v0x566778d80350_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x566778d80970_0, 0;
    %load/vec4 v0x566778d7f7a0_0;
    %addi 1, 0, 5;
    %assign/vec4 v0x566778d7f7a0_0, 0;
    %load/vec4 v0x566778d7f7a0_0;
    %pad/u 32;
    %cmpi/e 15, 0, 32;
    %jmp/0xz  T_6.16, 4;
    %pushi/vec4 2, 0, 2;
    %assign/vec4 v0x566778d80a50_0, 0;
T_6.16 ;
T_6.14 ;
T_6.13 ;
    %load/vec4 v0x566778d7fa20_0;
    %nor/r;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_6.20, 9;
    %load/vec4 v0x566778d80670_0;
    %and;
T_6.20;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.18, 8;
    %load/vec4 v0x566778d80270_0;
    %parti/s 11, 0, 2;
    %concati/vec4 0, 0, 1;
    %assign/vec4 v0x566778d80270_0, 0;
T_6.18 ;
    %load/vec4 v0x566778d7fa20_0;
    %nor/r;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_6.24, 10;
    %load/vec4 v0x566778d7f7a0_0;
    %pad/u 32;
    %pushi/vec4 4, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_6.24;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_6.23, 9;
    %load/vec4 v0x566778d80670_0;
    %and;
T_6.23;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.21, 8;
    %load/vec4 v0x566778d80970_0;
    %parti/s 2, 2, 3;
    %cmpi/e 0, 0, 2;
    %jmp/0xz  T_6.25, 4;
    %load/vec4 v0x566778d80970_0;
    %parti/s 2, 0, 2;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_6.27, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_6.28, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_6.29, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_6.30, 6;
    %jmp T_6.31;
T_6.27 ;
    %load/vec4 v0x566778d7fae0_0;
    %assign/vec4 v0x566778d80270_0, 0;
    %jmp T_6.31;
T_6.28 ;
    %pushi/vec4 0, 0, 10;
    %load/vec4 v0x566778d7f470_0;
    %concat/vec4; draw_concat_vec4
    %load/vec4 v0x566778d7fe40_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x566778d80270_0, 0;
    %jmp T_6.31;
T_6.29 ;
    %load/vec4 v0x566778d7fca0_0;
    %assign/vec4 v0x566778d80270_0, 0;
    %jmp T_6.31;
T_6.30 ;
    %load/vec4 v0x566778d800d0_0;
    %assign/vec4 v0x566778d80270_0, 0;
    %jmp T_6.31;
T_6.31 ;
    %pop/vec4 1;
T_6.25 ;
T_6.21 ;
    %jmp T_6.9;
T_6.8 ;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x566778d80a50_0, 0;
    %load/vec4 v0x566778d7f700_0;
    %cmpi/e 0, 0, 2;
    %jmp/0xz  T_6.32, 4;
    %load/vec4 v0x566778d7f940_0;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_6.34, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_6.35, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_6.36, 6;
    %jmp T_6.37;
T_6.34 ;
    %load/vec4 v0x566778d80410_0;
    %assign/vec4 v0x566778d7fae0_0, 0;
    %jmp T_6.37;
T_6.35 ;
    %load/vec4 v0x566778d7fae0_0;
    %load/vec4 v0x566778d80410_0;
    %or;
    %assign/vec4 v0x566778d7fae0_0, 0;
    %jmp T_6.37;
T_6.36 ;
    %load/vec4 v0x566778d7fae0_0;
    %load/vec4 v0x566778d80410_0;
    %inv;
    %and;
    %assign/vec4 v0x566778d7fae0_0, 0;
    %jmp T_6.37;
T_6.37 ;
    %pop/vec4 1;
T_6.32 ;
    %load/vec4 v0x566778d7f940_0;
    %cmpi/e 0, 0, 2;
    %flag_get/vec4 4;
    %jmp/0 T_6.40, 4;
    %load/vec4 v0x566778d7f700_0;
    %pushi/vec4 1, 0, 2;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_6.40;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.38, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x566778d7fe40_0, 0;
T_6.38 ;
    %jmp T_6.9;
T_6.9 ;
    %pop/vec4 1;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x566778d7bda0;
T_7 ;
    %wait E_0x566778cef260;
    %load/vec4 v0x566778d82210_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_7.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x566778d817d0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x566778d81140_0, 0;
    %jmp T_7.1;
T_7.0 ;
    %load/vec4 v0x566778d81bd0_0;
    %subi 1, 0, 32;
    %load/vec4 v0x566778d817d0_0;
    %cmp/u;
    %flag_or 5, 4;
    %jmp/0xz  T_7.2, 5;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x566778d817d0_0, 0;
    %load/vec4 v0x566778d81140_0;
    %inv;
    %assign/vec4 v0x566778d81140_0, 0;
    %jmp T_7.3;
T_7.2 ;
    %load/vec4 v0x566778d817d0_0;
    %addi 1, 0, 32;
    %assign/vec4 v0x566778d817d0_0, 0;
T_7.3 ;
T_7.1 ;
    %jmp T_7;
    .thread T_7;
    .scope S_0x566778d7bda0;
T_8 ;
    %wait E_0x566778cef260;
    %load/vec4 v0x566778d82210_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.0, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x566778d812d0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x566778d82480_0, 0;
    %jmp T_8.1;
T_8.0 ;
    %load/vec4 v0x566778d814d0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.2, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x566778d812d0_0, 0;
    %jmp T_8.3;
T_8.2 ;
    %load/vec4 v0x566778d81370_0;
    %flag_set/vec4 8;
    %jmp/1 T_8.7, 8;
    %load/vec4 v0x566778d81650_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_8.7;
    %jmp/1 T_8.6, 8;
    %load/vec4 v0x566778d80f60_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_8.8, 10;
    %load/vec4 v0x566778d80e90_0;
    %nor/r;
    %and;
T_8.8;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_8.6;
    %jmp/0xz  T_8.4, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x566778d812d0_0, 0;
    %jmp T_8.5;
T_8.4 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x566778d812d0_0, 0;
T_8.5 ;
T_8.3 ;
    %load/vec4 v0x566778d81650_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_8.11, 9;
    %load/vec4 v0x566778d80f60_0;
    %and;
T_8.11;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.9, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x566778d82480_0, 0;
    %jmp T_8.10;
T_8.9 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x566778d82480_0, 0;
T_8.10 ;
T_8.1 ;
    %jmp T_8;
    .thread T_8;
    .scope S_0x566778d45070;
T_9 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d83390_0, 0, 1;
    %end;
    .thread T_9;
    .scope S_0x566778d45070;
T_10 ;
    %delay 10000, 0;
    %load/vec4 v0x566778d83390_0;
    %inv;
    %store/vec4 v0x566778d83390_0, 0, 1;
    %jmp T_10;
    .thread T_10;
    .scope S_0x566778d45070;
T_11 ;
    %wait E_0x566778d23c40;
    %delay 5000, 0;
    %load/vec4 v0x566778d829f0_0;
    %load/vec4 v0x566778d82740_0;
    %cmp/u;
    %flag_or 5, 4;
    %flag_mov 8, 5;
    %jmp/0 T_11.0, 8;
    %pushi/vec4 1, 0, 1;
    %jmp/1 T_11.1, 8;
T_11.0 ; End of true expr.
    %pushi/vec4 0, 0, 1;
    %jmp/0 T_11.1, 8;
 ; End of false expr.
    %blend;
T_11.1;
    %store/vec4 v0x566778d82840_0, 0, 1;
    %jmp T_11;
    .thread T_11, $push;
    .scope S_0x566778d45070;
T_12 ;
    %wait E_0x566778d23540;
    %load/vec4 v0x566778d82900_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.0, 8;
    %load/vec4 v0x566778d82db0_0;
    %parti/s 15, 0, 2;
    %load/vec4 v0x566778d82cc0_0;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x566778d82db0_0, 0, 16;
T_12.0 ;
    %jmp T_12;
    .thread T_12;
    .scope S_0x566778d45070;
T_13 ;
    %vpi_call 2 154 "$dumpfile", "tb_spi_adc.vcd" {0 0 0};
    %vpi_call 2 155 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x566778d45070 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d82fe0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x566778d82900_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d831c0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d82e50_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x566778d82840_0, 0, 1;
    %pushi/vec4 0, 0, 12;
    %store/vec4 v0x566778d82740_0, 0, 12;
    %delay 500000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x566778d82fe0_0, 0, 1;
    %delay 500000, 0;
    %vpi_call 2 170 "$display", "---------------------------------------------------" {0 0 0};
    %vpi_call 2 171 "$display", "Test 1: Single Conversion Mode" {0 0 0};
    %vpi_call 2 172 "$display", "---------------------------------------------------" {0 0 0};
    %pushi/vec4 2642, 0, 12;
    %store/vec4 v0x566778d82740_0, 0, 12;
    %vpi_call 2 176 "$display", "Analog Input Set to: 0x%h", v0x566778d82740_0 {0 0 0};
    %vpi_call 2 181 "$display", "SPI: Writing Config (Enable + Start + IRQ)" {0 0 0};
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x566778d50f50_0, 0, 2;
    %pushi/vec4 19, 0, 12;
    %store/vec4 v0x566778d4a050_0, 0, 12;
    %fork TD_tb_spi_adc.spi_write, S_0x566778d7bac0;
    %join;
    %vpi_call 2 185 "$display", "Waiting for IRQ..." {0 0 0};
T_13.0 ;
    %load/vec4 v0x566778d82c20_0;
    %pad/u 32;
    %pushi/vec4 1, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_13.1, 6;
    %wait E_0x566778d23eb0;
    %jmp T_13.0;
T_13.1 ;
    %vpi_call 2 187 "$display", "IRQ Received! Conversion Complete." {0 0 0};
    %vpi_call 2 191 "$display", "SPI: Reading Result" {0 0 0};
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x566778d573f0_0, 0, 2;
    %fork TD_tb_spi_adc.spi_read, S_0x566778d44240;
    %join;
    %delay 200000, 0;
    %load/vec4 v0x566778d82db0_0;
    %parti/s 12, 0, 2;
    %store/vec4 v0x566778d832b0_0, 0, 12;
    %vpi_call 2 199 "$display", "Read Back Data: 0x%h", v0x566778d832b0_0 {0 0 0};
    %load/vec4 v0x566778d832b0_0;
    %load/vec4 v0x566778d82740_0;
    %cmp/e;
    %jmp/0xz  T_13.2, 6;
    %vpi_call 2 203 "$display", "RESULT: PASS - ADC Data matches Input." {0 0 0};
    %jmp T_13.3;
T_13.2 ;
    %load/vec4 v0x566778d832b0_0;
    %pad/u 32;
    %load/vec4 v0x566778d82740_0;
    %pad/u 32;
    %addi 1, 0, 32;
    %cmp/e;
    %jmp/1 T_13.6, 4;
    %flag_mov 8, 4;
    %load/vec4 v0x566778d832b0_0;
    %pad/u 32;
    %load/vec4 v0x566778d82740_0;
    %pad/u 32;
    %subi 1, 0, 32;
    %cmp/e;
    %flag_or 4, 8;
T_13.6;
    %jmp/0xz  T_13.4, 4;
    %vpi_call 2 207 "$display", "RESULT: PASS (Within 1 LSB) - ADC: %h, Input: %h", v0x566778d832b0_0, v0x566778d82740_0 {0 0 0};
    %jmp T_13.5;
T_13.4 ;
    %vpi_call 2 209 "$display", "RESULT: FAIL - ADC: %h, Input: %h", v0x566778d832b0_0, v0x566778d82740_0 {0 0 0};
T_13.5 ;
T_13.3 ;
    %delay 1000000, 0;
    %vpi_call 2 214 "$display", "---------------------------------------------------" {0 0 0};
    %vpi_call 2 215 "$display", "Test 2: Check START Bit Clearing" {0 0 0};
    %vpi_call 2 216 "$display", "---------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x566778d573f0_0, 0, 2;
    %fork TD_tb_spi_adc.spi_read, S_0x566778d44240;
    %join;
    %delay 200000, 0;
    %load/vec4 v0x566778d82db0_0;
    %parti/s 12, 0, 2;
    %store/vec4 v0x566778d832b0_0, 0, 12;
    %load/vec4 v0x566778d832b0_0;
    %parti/s 1, 1, 2;
    %cmpi/e 0, 0, 1;
    %jmp/0xz  T_13.7, 4;
    %vpi_call 2 225 "$display", "PASS: START bit verified cleared." {0 0 0};
    %jmp T_13.8;
T_13.7 ;
    %vpi_call 2 227 "$display", "FAIL: START bit is still high (0x%h)", v0x566778d832b0_0 {0 0 0};
T_13.8 ;
    %delay 1000000, 0;
    %vpi_call 2 230 "$display", "Simulation Finished." {0 0 0};
    %vpi_call 2 231 "$finish" {0 0 0};
    %end;
    .thread T_13;
# The file index is used to find the file name in the following table.
:file_names 6;
    "N/A";
    "<interactive>";
    "iverilog/testbench/tb_spi_adc.v";
    "verilog/spi_adc.v";
    "verilog/adc_controller.v";
    "verilog/adc_spi_slave.v";
